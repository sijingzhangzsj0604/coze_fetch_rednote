"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const path_1=__importDefault(require("path")),fs_extra_1=__importDefault(require("fs-extra")),utils_1=require("../../../modules/storage/help/utils"),Runner_1=__importDefault(require("../Runner"));function initBlock(e,t,r){const a=(0,utils_1.getPathId)(e),i=fs_extra_1.default.readJSONSync(path_1.default.join(e,"project.config.json")),u=r[Runner_1.default.run("block","getStorageKey","root")][e]||{},o=path_1.default.basename(e);return Promise.resolve(Object.assign(Object.assign({idx:0,appId:i.appid},u),{blockTypeId:o,tmpConfig:(0,utils_1.getTmpConfig)(path_1.default.join(t,"builds",a)),lastOpen:Date.now()}))}exports.default=initBlock;