import test from 'ava';
import { camelToKebab, getRegexp, joinQueryWithMap, joinRegExp, safeStringify } from '../string';
test('camelToKebab', function (t) {
    t.is(camelToKebab('snake'), 'snake');
    t.is(camelToKebab('snakeHouse'), 'snake-house');
    t.is(camelToKebab('snakeHouseBall'), 'snake-house-ball');
    t.is(camelToKebab('snakeHouseBall.js'), 'snake-house-ball.js');
    t.is(camelToKebab(''), '');
});
test('getRegexp', function (t) {
    // @ts-expect-error
    t.is(getRegexp(), null);
    // @ts-expect-error
    t.is(getRegexp(1), null);
    t.is(getRegexp([]), null);
});
test('joinRegExp', function (t) {
    t.is(joinRegExp(['a', 'b', 'a.b', /d/, /[0-9]/]).source, 'a|b|a\\.b|d|[0-9]');
    // @ts-expect-error
    t.is(joinRegExp(['a', 'b', null, undefined]).source, 'a|b');
    // @ts-expect-error
    t.is(joinRegExp(['a', 'b', null, 'a.b', undefined, true, /d/, 123, {}, /[0-9]/, []]).source, 'a|b|a\\.b|d|[0-9]');
});
test('safeStringify', function (t) {
    var cycle = { a: null };
    cycle.a = cycle;
    t.true(safeStringify(cycle).includes('[FAILED_TO_STRINGIFY]'));
    t.is(safeStringify({}), '{}');
    t.is(safeStringify({ a: 1 }), '{"a":1}');
    t.is(safeStringify(3), '3');
    t.is(safeStringify('str'), 'str');
    t.is(safeStringify([]), '[]');
    t.is(safeStringify(['str', 3, { a: 1 }]), '["str",3,{"a":1}]');
});
test('joinQueryWithMap', function (t) {
    t.is(joinQueryWithMap({}), '');
    t.is(joinQueryWithMap(null), '');
    t.is(joinQueryWithMap({ a: 1 }), '?a=1');
    t.is(joinQueryWithMap({ a: '1', b: 2 }), '?a=1&b=2');
    t.is(joinQueryWithMap({ a: '1', b: 2, c: {} }), '?a=1&b=2&c=[object Object]');
});
//# sourceMappingURL=string.spec.js.map