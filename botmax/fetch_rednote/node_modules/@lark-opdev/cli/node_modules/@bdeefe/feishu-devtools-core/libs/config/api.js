"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBaseURL=exports.getBasePath=exports.getDomain=exports.newAPI=exports.API=exports.OPEN_PLATFORM_APP_ID=exports.SubDomain=void 0;const Logger_1=require("../common/Logger"),environment_1=require("./environment");var SubDomain;!function(e){e.open="open",e.passport="passport",e.docs="internal-api-space"}(SubDomain=exports.SubDomain||(exports.SubDomain={}));const baseURL={devtools:"/miniprogram/api/v4",devtoolsNew:"/miniprogram/api/v5",gadget:"/open-apis/mina",platform:"/apps",platformNew:"/app",developer:"/api",passport:"/accounts",docs:"/space/api",h5JSSDK:"/openapi/jssdk",openPlatform:"/open-platform",ide:"/developer/tool/ide"};function getDomain(e,o){var p;const t=(0,environment_1.getEnvironmentConfig)(e);return(0,Logger_1.logger)().info("common","getDomain","end",{environment:e,envConfig:t}),"lark-pre"!==e&&"feishu-pre"!==e||"docs"!==o&&"passport"!==o?null==t?void 0:t.domain:null===(p=null==t?void 0:t.domain)||void 0===p?void 0:p.replace("-pre","")}exports.OPEN_PLATFORM_APP_ID=7,exports.API={OAuthCallback:{type:"devtools",method:"",url:"/passport/oauth/callback/",subDomain:SubDomain.open,key:"OAuthCallback"},getToken:{type:"devtools",method:"GET",url:"/token",subDomain:SubDomain.open,key:"getToken"},checkLogin:{type:"devtools",method:"GET",url:"/check_login",subDomain:SubDomain.open,key:"checkLogin"},getUserInfo:{type:"devtools",method:"GET",url:"/user",subDomain:SubDomain.open,key:"getUserInfo"},gadgetLatestVersion:{type:"devtools",method:"GET",url:"/app/:appId/latest_version",subDomain:SubDomain.open,key:"gadgetLatestVersion"},gadgetPluginLatestVersion:{type:"devtools",method:"GET",url:"/app/:appId/plugin/latest_version",subDomain:SubDomain.open,key:"gadgetPluginLatestVersion"},blockLatestVersion:{type:"devtools",method:"PUT",url:"/app/:appId/block/latest_version",subDomain:SubDomain.open,key:"blockLatestVersion"},previewMobileGadget:{type:"devtools",method:"PUT",url:"/app/:appId/preview",subDomain:SubDomain.open,key:"previewMobileGadget"},previewPCGadget:{type:"devtools",method:"PUT",url:"/app/:appId/preview_notify",subDomain:SubDomain.open,key:"previewPCGadget"},previewGadgetPlugin:{type:"devtools",method:"PUT",url:"/app/:appId/plugin/preview",subDomain:SubDomain.open,key:"previewGadgetPlugin"},previewH5:{type:"devtools",method:"PUT",url:"/h5/push_preview",subDomain:SubDomain.open,key:"previewH5"},previewBlock:{type:"devtools",method:"PUT",url:"/app/:appId/block/preview",subDomain:SubDomain.open,key:"previewBlock"},getPreviewToken:{type:"devtools",method:"GET",url:"/app/:appId/block/preview/:previewId/token",subDomain:SubDomain.open,key:"getPreviewToken"},livePreviewGadget:{type:"devtools",method:"PUT",url:"/app/:appId/push_preview_v2",subDomain:SubDomain.open,key:"livePreviewGadget"},uploadMobileGadget:{type:"devtools",method:"PUT",url:"/app/:appId/testing",subDomain:SubDomain.open,key:"uploadMobileGadget"},uploadPCGadget:{type:"devtools",method:"PUT",url:"/app/:appId/testing_notify",subDomain:SubDomain.open,key:"uploadPCGadget"},uploadGadgetPlugin:{type:"devtools",method:"PUT",url:"/app/:appId/plugin/release",subDomain:SubDomain.open,key:"uploadGadgetPlugin"},uploadBlock:{type:"devtools",method:"PUT",url:"/app/:appId/block/release",subDomain:SubDomain.open,key:"uploadBlock"},gadgetCompileProgress:{type:"devtools",method:"GET",url:"/app/:appId/compile_progress",subDomain:SubDomain.open,key:"gadgetCompileProgress"},gadgetPluginCompileProgress:{type:"devtools",method:"GET",url:"/app/:appId/compile_progress",subDomain:SubDomain.open,key:"gadgetPluginCompileProgress"},blockCompileProgress:{type:"devtools",method:"GET",url:"/app/:appId/progress",subDomain:SubDomain.open,key:"blockCompileProgress"},getGadgetQRCode:{type:"devtools",method:"GET",url:"/app/:appId/qrcode_url_v2/:version",subDomain:SubDomain.open,key:"getGadgetQRCode"},getPCGadgetQRCode:{type:"devtools",method:"GET",url:"/app/:appId/pc_qrcode_url_v2/:version",subDomain:SubDomain.open,key:"getPCGadgetQRCode"},getPreviewGadgetPlugin:{type:"devtools",method:"POST",url:"/app/:appId/plugin/qrcode_url",subDomain:SubDomain.open,key:"getPreviewGadgetPlugin"},ttLogin:{type:"gadget",method:"POST",url:"/login",subDomain:SubDomain.open,sessionType:"debug"},ttBlockLogin:{type:"gadget",method:"POST",url:"/v2/login",subDomain:SubDomain.open,sessionType:"debug"},ttGetUserInfo:{type:"gadget",method:"POST",url:"/getUserInfo",subDomain:SubDomain.open,sessionType:"debug"},createToken:{type:"devtools",method:"POST",url:"/opdev-token",subDomain:SubDomain.open,key:"createToken"},getTokens:{type:"devtools",method:"GET",url:"/opdev-token",subDomain:SubDomain.open,key:"getTokens"},revokeToken:{type:"devtools",method:"DELETE",url:"/opdev-token/:token",subDomain:SubDomain.open,key:"revokeToken"},userInfo:{type:"passport",method:"GET",url:"/web/user",subDomain:SubDomain.passport},tenantList:{type:"passport",method:"POST",url:"/security/user/web_list",subDomain:SubDomain.passport},switchTenant:{type:"passport",method:"POST",url:"/web/switch",subDomain:SubDomain.passport},loginDocs:{type:"passport",method:"GET",url:"/page/login/",subDomain:SubDomain.passport},createDocs:{type:"docs",method:"POST",url:"/explorer/create/",subDomain:SubDomain.docs},spaceHome:{type:"docs",method:"GET",url:"/space/home",subDomain:SubDomain.passport},driveHome:{type:"docs",method:"GET",url:"/drive/home",subDomain:SubDomain.passport},getBlockMeta:{type:"gadget",method:"POST",url:"/AppExtensionMetas",subDomain:SubDomain.open,sessionType:"debug"},getOpenUserSummary:{type:"gadget",method:"POST",url:"/v4/getOpenUserSummary",subDomain:SubDomain.open,sessionType:"debug"},getUserIDByOpenID:{type:"gadget",method:"POST",url:"/v2/getUserIDsByOpenIDsV2",subDomain:SubDomain.open,sessionType:"debug"},searchGroup:{type:"developer",method:"GET",url:"/v2/group",subDomain:SubDomain.open,sessionType:"debug"},searchUser:{type:"gadget",method:"POST",url:"/searchPeople",subDomain:SubDomain.open,sessionType:"debug"},h5Login:{type:"openPlatform",method:"POST",url:"/api/LoginH5",subDomain:SubDomain.open},h5VerifyConfig:{type:"h5JSSDK",method:"POST",url:"/verify",subDomain:SubDomain.open},reportIssue:{type:"ide",method:"POST",url:"/invoke/upload_log",subDomain:SubDomain.open},offlineH5Upload:{type:"devtools",method:"POST",url:"/app/:appId/web_offline/upload",subDomain:SubDomain.open,key:"offlineH5Upload"},offlineH5GetMeta:{type:"devtools",method:"GET",url:"/app/:appId/web_offline/info",subDomain:SubDomain.open,key:"offlineH5GetMeta"},getSafeSetting:{type:"devtools",method:"GET",url:"/app/:appId/get_safe_setting",subDomain:SubDomain.open,key:"getSafeSetting"},getAllTenant:{type:"passport",method:"POST",url:"/security/user/user_center",subDomain:SubDomain.passport},getDebugTenantInfo:{type:"devtools",method:"POST",url:"/app/:app_id/debug_tenant_info",subDomain:SubDomain.open,key:"getDebugTenantInfo"},getBlockConfig:{type:"devtools",method:"GET",url:"/app/:app_id/block_config",subDomain:SubDomain.open,key:"getBlockConfig"},userIsIsv:{type:"devtoolsNew",method:"GET",url:"/is_isv",subDomain:SubDomain.open},createApp:{type:"devtoolsNew",method:"POST",url:"/app/create",subDomain:SubDomain.open},createBlock:{type:"devtoolsNew",method:"POST",url:"/block/create/:appid",subDomain:SubDomain.open},uploadImage:{type:"devtoolsNew",method:"POST",url:"/app/upload/image",subDomain:SubDomain.open},compileProgress:{type:"devtoolsNew",method:"GET",url:"/app/:appId/compile_progress",subDomain:SubDomain.open},detectCompileTask:{type:"devtoolsNew",method:"GET",url:"/app/:appId/is_compile_running",subDomain:SubDomain.open},cancelCompileTask:{type:"devtoolsNew",method:"GET",url:"/app/:appId/cancel_compile",subDomain:SubDomain.open}},exports.newAPI={OAuthCallback:{type:"devtoolsNew",method:"",url:"/passport/oauth/callback/",subDomain:SubDomain.open},getToken:{type:"devtoolsNew",method:"GET",url:"/token",subDomain:SubDomain.open},checkLogin:{type:"devtoolsNew",method:"GET",url:"/check_login",subDomain:SubDomain.open},getUserInfo:{type:"devtoolsNew",method:"GET",url:"/user",subDomain:SubDomain.open},gadgetLatestVersion:{type:"devtoolsNew",method:"GET",url:"/app/:appId/gadget/latest_version",subDomain:SubDomain.open},gadgetPluginLatestVersion:{type:"devtoolsNew",method:"GET",url:"/app/:appId/gadget_plugin/latest_version",subDomain:SubDomain.open},blockLatestVersion:{type:"devtoolsNew",method:"GET",url:"/app/:appId/block/latest_version",subDomain:SubDomain.open},previewMobileGadget:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/gadget/mobile/preview",subDomain:SubDomain.open},previewPCGadget:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/gadget/pc/preview",subDomain:SubDomain.open},previewGadgetPlugin:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/gadget_plugin/preview",subDomain:SubDomain.open},previewH5:{type:"devtoolsNew",method:"PUT",url:"/h5/push_preview",subDomain:SubDomain.open},previewBlock:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/block/preview",subDomain:SubDomain.open},getPreviewToken:{type:"devtoolsNew",method:"GET",url:"/app/:appId/block/preview/:previewId/token",subDomain:SubDomain.open},livePreviewGadget:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/gadget/push_preview",subDomain:SubDomain.open},uploadMobileGadget:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/gadget/mobile/release",subDomain:SubDomain.open},uploadPCGadget:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/gadget/pc/release",subDomain:SubDomain.open},uploadGadgetPlugin:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/gadget_plugin/release",subDomain:SubDomain.open},uploadBlock:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/block/release",subDomain:SubDomain.open},gadgetCompileProgress:{type:"devtoolsNew",method:"GET",url:"/app/:appId/gadget/compile_progress",subDomain:SubDomain.open},gadgetPluginCompileProgress:{type:"devtoolsNew",method:"GET",url:"/app/:appId/gadget/compile_progress",subDomain:SubDomain.open},blockCompileProgress:{type:"devtoolsNew",method:"GET",url:"/app/:appId/block/compile_progress",subDomain:SubDomain.open},getGadgetQRCode:{type:"devtoolsNew",method:"GET",url:"/app/:appId/gadget/mobile/qrcode_url/:version",subDomain:SubDomain.open},getPCGadgetQRCode:{type:"devtoolsNew",method:"GET",url:"/app/:appId/gadget/pc/qrcode_url/:version",subDomain:SubDomain.open},getPreviewGadgetPlugin:{type:"devtoolsNew",method:"POST",url:"/app/:appId/gadget_plugin/qrcode_url",subDomain:SubDomain.open},createToken:{type:"devtoolsNew",method:"POST",url:"/opdev-token",subDomain:SubDomain.open},getTokens:{type:"devtoolsNew",method:"GET",url:"/opdev-token",subDomain:SubDomain.open},revokeToken:{type:"devtoolsNew",method:"DELETE",url:"/opdev-token/:token",subDomain:SubDomain.open},offlineH5Upload:{type:"devtoolsNew",method:"PUT",url:"/app/:appId/web_offline/release",subDomain:SubDomain.open},offlineH5GetMeta:{type:"devtoolsNew",method:"GET",url:"/app/:appId/web_offline/latest_version",subDomain:SubDomain.open},getSafeSetting:{type:"devtoolsNew",method:"GET",url:"/app/:appId/get_safe_setting",subDomain:SubDomain.open},getDebugTenantInfo:{type:"devtoolsNew",method:"POST",url:"/app/:app_id/debug_tenant_info",subDomain:SubDomain.open},getBlockConfig:{type:"devtoolsNew",method:"GET",url:"/app/:app_id/block_config",subDomain:SubDomain.open}},exports.getDomain=getDomain;const getBasePath=e=>baseURL[e];function getBaseURL(e,o,p){const t=getDomain(e,o);return(0,Logger_1.logger)().info("common","getBaseURL","end",{domain:t,subDomain:p,environment:e,type:o}),`https://${p}.${t}${(0,exports.getBasePath)(o)}`}exports.getBasePath=getBasePath,exports.getBaseURL=getBaseURL;