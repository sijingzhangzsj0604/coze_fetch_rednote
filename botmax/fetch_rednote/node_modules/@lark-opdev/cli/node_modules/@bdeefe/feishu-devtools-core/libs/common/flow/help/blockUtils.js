"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isH5Block=exports.isBlock=void 0;const path_1=__importDefault(require("path")),fs_extra_1=__importDefault(require("fs-extra")),simulator_1=require("../../../types/simulator"),configFileName="project.config.json";function isBlock(e){if(fs_extra_1.default.existsSync(path_1.default.join(e,configFileName))){const t=fs_extra_1.default.readJSONSync(path_1.default.join(e,configFileName));if(Array.isArray(t.blocks)&&t.blocks.length>0){const o=path_1.default.join(e,t.blocks[0])+".json";if(fs_extra_1.default.existsSync(o)){if("offlineWeb"!==fs_extra_1.default.readJSONSync(o).blockRenderType)return Promise.resolve(simulator_1.CompilePathType.sourceCode)}}}return Promise.resolve(simulator_1.CompilePathType.unknown)}function isH5Block(e){if(fs_extra_1.default.existsSync(path_1.default.join(e,configFileName))){const t=fs_extra_1.default.readJSONSync(path_1.default.join(e,configFileName));if(Array.isArray(t.blocks)&&t.blocks.length>0){const o=path_1.default.join(e,t.blocks[0])+".json";if(fs_extra_1.default.existsSync(o)){if("offlineWeb"===fs_extra_1.default.readJSONSync(o).blockRenderType)return Promise.resolve(simulator_1.CompilePathType.sourceCode)}}}return Promise.resolve(simulator_1.CompilePathType.unknown)}exports.isBlock=isBlock,exports.isH5Block=isH5Block;