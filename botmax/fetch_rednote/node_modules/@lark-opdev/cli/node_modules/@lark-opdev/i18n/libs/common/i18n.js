"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.I18nBase = void 0;
class I18nBase {
    constructor(origin, replaceMap = new Map()) {
        this.origin = origin;
        this.replaceMap = replaceMap;
    }
    getLang() {
        return this.origin.language;
    }
    setLang(lang) {
        return this.origin.setLangWithPromise(lang).then(() => lang);
    }
    setReplaceMap(newReplaceMap) {
        newReplaceMap.forEach((newStr, old) => {
            this.replaceMap.set(old, newStr);
        });
    }
    doReplace(originStr) {
        let newStr = originStr;
        this.replaceMap.forEach((replacement, old) => {
            newStr = newStr.replace(old, replacement);
        });
        return newStr;
    }
    t(...args) {
        const originStr = this.origin.t(...args);
        return this.doReplace(originStr);
    }
}
exports.I18nBase = I18nBase;
