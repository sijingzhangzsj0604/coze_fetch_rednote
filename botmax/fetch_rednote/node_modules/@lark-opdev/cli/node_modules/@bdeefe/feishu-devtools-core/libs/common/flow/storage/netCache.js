"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=void 0;const axios_1=__importDefault(require("axios")),NetCache=new Map,TIMEOUT=36e5;function cacheFetch(e,t=36e5){try{const a=JSON.stringify(e),r=NetCache.get(a),c=Date.now();if(r&&c-r.time<t)return Promise.resolve(r.data);const o=(0,axios_1.default)(e).then(e=>{const t=NetCache.get(a);return t&&(t.data=e.data),e.data},e=>{throw NetCache.delete(a),e});return NetCache.set(a,{time:c,data:o}),o}catch(t){return(0,axios_1.default)(e).then(e=>e.data)}}function clear(){NetCache.clear()}exports.default=cacheFetch,exports.clear=clear;