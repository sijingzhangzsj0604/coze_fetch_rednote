"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounce=exports.versionCompare=exports.promiseRunner=void 0;const defaultShouldUpdate=(e,r)=>{if(!r)return!0;if(r.length!==e.length)return!0;for(let n=0,t=r.length;n<t;n++)if(r[n]!==e[n])return!0;return!1};function promiseRunner(e,r=defaultShouldUpdate){let n,t=null;return(...o)=>{const u=n;return n=o.slice(),t&&!r(n,u)||(t=e(...o).catch(e=>{throw t=null,e})),t}}function versionCompare(e,r){const n=e.split("."),t=r.split("."),o=Math.max(n.length,t.length);for(let e=0;e<o;e+=1){if(n[e]&&!t[e]&&parseInt(n[e])>0||parseInt(n[e])>parseInt(t[e]))return 1;if(t[e]&&!n[e]&&parseInt(t[e])>0||parseInt(n[e])<parseInt(t[e]))return-1}return 0}function debounce(e,r){let n,t,o=null;const u=()=>{n&&clearTimeout(n),n=null,o&&(t=e(...o)),o=null},l=()=>{n&&clearTimeout(n),n=null},s=function(...e){return l(),o=e,n=setTimeout(u,r),t};return s.cancel=l,s.flush=u,s}exports.promiseRunner=promiseRunner,exports.versionCompare=versionCompare,exports.debounce=debounce;