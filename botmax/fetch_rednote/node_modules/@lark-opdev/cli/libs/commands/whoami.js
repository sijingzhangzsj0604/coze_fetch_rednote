"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const command_1 = require("@oclif/command");
const command_2 = __importDefault(require("../extends/command"));
const account_1 = __importDefault(require("../implements/account"));
class WhoAmI extends command_2.default {
    run() {
        const { flags } = this.parse(WhoAmI);
        const account = new account_1.default();
        account.eventTracker('whoami_start', { tags: Object.assign({}, flags) });
        account_1.default.checkTokenExist(this.id);
        if (account.isLogin()) {
            console.log('Current user is: ' + account.getUserInfo());
        }
        else {
            console.log('Not login');
        }
        return Promise.resolve();
    }
}
exports.default = WhoAmI;
WhoAmI.description = 'Show account information';
WhoAmI.flags = {
    help: command_1.flags.help({
        char: 'h',
    }),
};
