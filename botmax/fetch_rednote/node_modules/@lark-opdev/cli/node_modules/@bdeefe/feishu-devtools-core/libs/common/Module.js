"use strict";var __awaiter=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function u(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,u)}l((i=i.apply(e,t||[])).next())}))},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const Logger_1=__importDefault(require("./Logger"));class BaseModule{constructor(e){this.moduleName=e,this.listeners=new Map,this.log=(e,...t)=>{this.logger[e](...t)},this.logger=new Logger_1.default(e)}install(e){return __awaiter(this,void 0,void 0,(function*(){this.execute=e.execute,this.registerEvents(e),yield this.created()}))}created(){}registerEvents(e){}addEventListener(e,t){const s=this.listeners.get(e)||[];return s.length||this.listeners.set(e,s),s.push(t),()=>{this.listeners.set(e,s.filter(e=>e!==t))}}emit(e,t){const s=this.listeners.get(e);if(s)for(let e=0,i=s.length;e<i;e++){(0,s[e])(t)}}exec(e,...t){return this[e](...t)}}exports.default=BaseModule;