import test from 'ava';
import { mergeSampleConfig } from '../config-manager';
test('mergeSampleConfig', function (t) {
    t.is(mergeSampleConfig(), undefined);
    t.deepEqual(mergeSampleConfig({ sample_rate: 1 }), { sample_rate: 1 });
    t.deepEqual(mergeSampleConfig(undefined, { sample_rate: 1 }), { sample_rate: 1 });
    t.deepEqual(mergeSampleConfig({ sample_rate: 1, include_users: ['123'] }, { sample_rate: 0.5, include_users: ['456'] }), {
        sample_rate: 0.5,
        include_users: ['123', '456'],
        rules: {},
    });
    t.deepEqual(mergeSampleConfig({
        sample_rate: 1,
        rules: {
            pageview: {
                enable: false,
                sample_rate: 1,
                conditional_sample_rules: [],
            },
        },
    }, {
        sample_rate: 0.5,
        rules: {
            pageview: {
                enable: true,
                sample_rate: 0.3,
                conditional_sample_rules: [],
            },
            jserr: {
                enable: false,
                sample_rate: 1,
                conditional_sample_rules: [],
            },
        },
    }), {
        sample_rate: 0.5,
        include_users: [],
        rules: {
            pageview: {
                enable: true,
                sample_rate: 0.3,
                conditional_sample_rules: [],
            },
            jserr: {
                enable: false,
                sample_rate: 1,
                conditional_sample_rules: [],
            },
        },
    });
});
//# sourceMappingURL=config-manager.spec.js.map