import { getDefaultBrowser } from '../utils/defaults';
export var ERROR_SUBJECT_NAME = 'err_0';
export var observeError = function (next, tearDown) {
    var window = getDefaultBrowser();
    if (!window)
        return;
    window.addEventListener('error', next, true);
    tearDown(function () {
        window.removeEventListener('error', next, true);
    });
};
export var errorSubject = [ERROR_SUBJECT_NAME, observeError];
export var PROMISE_REJECTION_SUBJECT_NAME = 'perr_0';
export var observePromiseRejection = function (next, tearDown) {
    var window = getDefaultBrowser();
    if (!window)
        return;
    window.addEventListener('unhandledrejection', next, true);
    tearDown(function () {
        window.removeEventListener('unhandledrejection', next, true);
    });
};
export var promiseRejectionSubject = [
    PROMISE_REJECTION_SUBJECT_NAME,
    observePromiseRejection,
];
//# sourceMappingURL=error.js.map