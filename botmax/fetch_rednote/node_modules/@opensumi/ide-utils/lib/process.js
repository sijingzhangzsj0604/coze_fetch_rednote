"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.nextTick = exports.platform = exports.env = exports.cwd = void 0;
const os_1 = require("./os");
const platform_1 = require("./platform");
const _safeProcess = {
    cwd() {
        return '/';
    },
    env: Object.create(null),
    get platform() {
        return platform_1.isWindows ? 'win32' : platform_1.isMacintosh ? 'darwin' : 'linux';
    },
    nextTick(callback) {
        return (0, platform_1.setImmediate)(callback);
    },
};
let safeProcess;
if (typeof process === 'undefined') {
    safeProcess = _safeProcess;
}
else {
    // 因为我们不推荐开启 browserNodeIntegrated，所以这里需要检查是否为 Electron Renderer 环境
    if ((0, os_1.isElectronRenderer)()) {
        safeProcess = _safeProcess;
    }
    else if (typeof process.cwd === 'undefined') {
        safeProcess = _safeProcess;
    }
    else {
        safeProcess = process;
    }
}
exports.cwd = safeProcess.cwd;
exports.env = safeProcess.env;
exports.platform = safeProcess.platform;
exports.nextTick = safeProcess.nextTick;
//# sourceMappingURL=process.js.map